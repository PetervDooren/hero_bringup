<?xml version="1.0"?>
<launch>

    <arg name="debug" default="false" />

<!--Toyota parameters -->
    <arg name="namespace" default="/hsrb"/>
    <arg name="use_hand_camera" default="true" />
    <arg name="use_head_center_camera" default="true" />
    <arg name="use_head_stereo_camera" default="true"/>
    <arg name="use_head_rgbd_sensor" default="true"/>
    <arg name="use_laser_odom" default="true" />
    <arg name="use_blackfly" default="false" />
    <arg name="monitor" default="false" />
    <arg name="param_file" default="$(env HOME)/.ros/params.yaml" />
    <arg name="align_at_startup" default="true" />
    <arg name="auto_start" default="false" />
    <arg name="robot_name" default="hsrb" />
    <arg name="enable_emergency_stop" default="true" />


    <group ns="hero">

        <!-- PARAMETERS: desciption, joint groups and specific skills -->
<!--        <param name="robot_description" textfile="$(find hero_description)/urdf/hero.urdf" /> -->
        <!--rosparam file="$(find hero_description)/custom/joint_groups.yaml" command="load" />
        <rosparam file="$(find hero_description)/custom/skills.yaml" command="load" /-->

        <!-- Robot state publisher -->
        <include file="$(find robot_launch_files)/launch/essentials/robot_state_publisher.launch">
            <arg name="machine" value="hsrb" />
        </include>

        <!-- Phone UI -->
        <!--include file="$(find robot_launch_files)/launch/interaction/mobile_ui_server.launch">
            <arg name="machine" value="hsrb" />
        </include-->

       <!-- <group if="$(optenv ROBOT_REAL false)">-->
            <!-- OROCOS HARDWARE -->
		<!-- COPY from AMIGO bringup-->

            <!-- MANAGERS -->
	    <include file="$(find hsrb_bringup)/launch/$(arg robot_name)_monitor.launch" if="$(arg monitor)">
   		 <arg name="namespace" value="$(arg namespace)" />
	    </include>

	<!--Hero hardware startup -->
        <include file="$(find hsrb_bringup)/launch/$(arg robot_name)_bringup.launch" unless="$(arg auto_start)">
    	  <arg name="namespace" value="$(arg namespace)" />
   	  <arg name="use_laser_odom" value="$(arg use_laser_odom)" />
    	  <arg name="align_at_startup" value="false" />
  	</include>


            <!-- SENSORS -->
            <include file="$(find robot_launch_files)/launch/hardware/sensors/kinect.launch">
                <arg name="name" value="top_kinect"/>
                <arg name="machine" value="hsrb"/>
                <arg name="gdb" value="true"/>
            </include>
            <include file="$(find robot_launch_files)/launch/hardware/sensors/laser.launch">
                <arg name="name" value="base_laser"/>
                <arg name="machine" value="hsrb"/>
            </include>
        </group>

        <!-- Launch simulator if we are not on a real robot -->
        <!--group unless="$(optenv ROBOT_REAL false)"> -->

            <!-- Simulator -->
            <!--include file="$(find robot_launch_files)/launch/simulator/simulator.launch" />

        </group-->
        <!-- ros to rgbd -->
     <!--   <include file="$(find robot_launch_files)/launch/essentials/ros_to_rgbd.launch">
            <arg name="name" value="top_kinect"/>
            <arg name="machine" value="hsrb"/>
        </include> -->
		
        <!-- rgbd to ros -->
     <!--   <include file="$(find robot_launch_files)/launch/essentials/rgbd_to_ros.launch">
            <arg name="name" value="top_kinect"/>
            <arg name="machine" value="hsrb"/>
        </include> -->

        <!-- SPEECH RECOGNITION -->
    <!--    <include file="$(find robot_launch_files)/launch/interaction/speech_recognition.launch">
            <arg name="machine" value="hsrb"/>
        </include> -->

        <!-- TEXT TO SPEECH -->
       <!--  <include file="$(find robot_launch_files)/launch/interaction/text_to_speech.launch">
            <arg name="machine-tts" value="hsrb"/>
            <arg name="machine-play" value="hsrb"/>
        </include> -->

        <!-- DIAGNOSTICS -->
      <!--  <include file="$(find robot_launch_files)/launch/diagnostics/diagnostics.launch" >
            <arg name="machine" value="hsrb" />
        </include> -->

		<!-- MANIPULATION -->
	<!--	<include file="$(find robot_launch_files)/launch/manipulation/moveit.launch">
			<arg name="machine" value="hsrb"/>
		</include>
		<include file="$(find robot_launch_files)/launch/manipulation/arm.launch">
			<arg name="name" value="left_arm"/>
			<arg name="machine" value="hsrb"/>
		</include>
		<include file="$(find robot_launch_files)/launch/manipulation/arm.launch">
			<arg name="name" value="right_arm"/>
			<arg name="machine" value="hsrb"/>
		</include>
		<include file="$(find robot_launch_files)/launch/manipulation/head.launch">
			<arg name="machine" value="hsrb"/>
		</include> -->

    </group>

    <!-- TF Server: advertises services for looking up transformations -->
    <!-- <include file="$(find robot_launch_files)/launch/essentials/tf_server.launch" >
        <arg name="machine" value="hsrb" />
    </include> -->

	<!-- align at start-->
  <group unless="$(arg auto_start)">
    <node if="$(arg align_at_startup)"
        pkg="hsrb_bringup" type="hsrb_align" name="hsrb_align" />
  </group>

 </launch>
